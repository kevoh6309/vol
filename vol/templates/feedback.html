{% extends 'base.html' %}
{% block title %}Feedback | Resume Builder{% endblock %}
{% block content %}
<h2 class="mb-4">Feedback</h2>
<form method="post" novalidate id="feedbackForm">
  {{ form.hidden_tag() }}
  <div class="mb-3 position-relative">
    {{ form.feedback.label(class_='form-label') }}
    <span class="ms-1 text-muted" data-bs-toggle="tooltip" title="Share your thoughts or suggestions."><i class="bi bi-chat-dots"></i></span>
    {{ form.feedback(class_='form-control', rows=5, placeholder='Your feedback...') }}
    <div class="invalid-feedback">Feedback must be at least 5 characters.</div>
  </div>
  <button type="submit" class="btn btn-primary">Submit</button>
</form>
{% if message %}
<div class="alert alert-success mt-3">{{ message }}</div>
{% endif %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
// Enable tooltips
var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
  return new bootstrap.Tooltip(tooltipTriggerEl);
});
// Real-time validation
const form = document.getElementById('feedbackForm');
form.addEventListener('input', function(e) {
  if (form.feedback.value.length < 5) {
    form.feedback.classList.add('is-invalid');
  } else {
    form.feedback.classList.remove('is-invalid');
  }
});
</script>
{% endblock %} 